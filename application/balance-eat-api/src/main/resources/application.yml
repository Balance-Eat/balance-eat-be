application:
  discord:
    webhook:
      url: ${DISCORD_WEBHOOK_URL}

spring:
  datasource:
    url: ${DB_URL:jdbc:mysql://localhost:3306/balance_eat}
    driverClassName: org.postgresql.Driver
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:password}
    hikari:
      pool-name: BalanceEat-Api-HikariPool
      maximum-pool-size: 2
      minimum-idle: 0
      connection-timeout: 3000
      idle-timeout: 10000       # 10Ï¥à ÌõÑ Ïó∞Í≤∞ Î∞òÌôò
      max-lifetime: 300000      # 5Î∂Ñ (PgBouncer Í∏∞Î≥∏Í∞íÏóê ÎßûÏ∂§)
      connection-test-query: SELECT 1
      validation-timeout: 5000
      data-source-properties:
        socketTimeout: 3000
        prepStmtCacheSize: 100
        prepStmtCacheSqlLimit: 2048
        cachePrepStmts: true
        useServerPrepStmts: true
        rewriteBatchedStatements: true
        useSsl: false

  application:
    name: balance-eat-api

  profiles:
    active: local
    
  config:
    import:
      - classpath:domain-config.yml
      - classpath:monitoring-config.yml
      - classpath:client-firebase-config.yml

# Swagger/OpenAPI ÏÑ§Ï†ï
springdoc:
  default-consumes-media-type: application/json;charset=UTF-8
  default-produces-media-type: application/json;charset=UTF-8
  api-docs:
    enabled: false
    path: /api-docs/balance-eat
  swagger-ui:
    url: /api-docs/balanceeat/main.yaml
    tags-sorter: alpha
    operations-sorter: alpha
    doc-expansion: none
    disable-swagger-default-url: true

---
# ==============================================
# üîß LOCAL ÌôòÍ≤Ω ÏÑ§Ï†ï
# ==============================================
spring:
  config:
    activate:
      on-profile: local

logging:
  level:
    org.springframework.web: DEBUG
    org.balanceeat: DEBUG

---
# ==============================================
# üöß DEV ÌôòÍ≤Ω ÏÑ§Ï†ï
# ==============================================
spring:
  config:
    activate:
      on-profile: dev

logging:
  level:
    org.springframework.web: INFO
    org.balanceeat: INFO

---
# ==============================================
# üöÄ PROD ÌôòÍ≤Ω ÏÑ§Ï†ï
# ==============================================
spring:
  config:
    activate:
      on-profile: prod

logging:
  level:
    org.springframework.web: WARN
    org.balanceeat: INFO
